# üöÄ It`s Done - Sistema Profissional de Controle de Horas

Sistema profissional e moderno para controle de horas de trabalho, desenvolvido para substituir planilhas tradicionais por uma solu√ß√£o completa e integrada. Ideal para freelancers, consultores, pequenas equipes e empresas de servi√ßos.

## üìã √çndice

- [Sobre o Projeto](#-sobre-o-projeto)
- [Funcionalidades Principais](#-funcionalidades-principais)
- [Tecnologias Utilizadas](#-tecnologias-utilizadas)
- [Arquitetura do Sistema](#-arquitetura-do-sistema)
- [Regras de Neg√≥cio](#-regras-de-neg√≥cio)
- [Configura√ß√£o e Instala√ß√£o](#-configura√ß√£o-e-instala√ß√£o)
- [Como Usar o Sistema](#-como-usar-o-sistema)
- [Desenvolvimento](#-desenvolvimento)
- [Testes](#-testes)
- [Deploy](#-deploy)
- [Pr√≥ximos Passos](#-pr√≥ximos-passos)
- [Contribui√ß√£o](#-contribui√ß√£o)
- [Licen√ßa](#-licen√ßa)

## üéØ Sobre o Projeto

O **It`s Done** √© um sistema completo de controle de horas de trabalho que oferece uma experi√™ncia moderna e profissional para gerenciar tempo, projetos, clientes e faturas. Foi desenvolvido com foco em:

- **Produtividade**: Interface intuitiva e fluxos otimizados
- **Automa√ß√£o**: Notifica√ß√µes autom√°ticas e gera√ß√£o de relat√≥rios
- **Escalabilidade**: Arquitetura modular preparada para crescimento
- **Profissionalismo**: Design moderno e funcionalidades empresariais

### üé® Caracter√≠sticas Visuais

- Interface moderna com design system consistente
- Tema escuro/claro com altern√¢ncia autom√°tica
- Componentes acess√≠veis e responsivos
- Feedback visual em tempo real
- Dashboard interativo com gr√°ficos

## ‚ú® Funcionalidades Principais

### üìä Dashboard e Analytics

- **Componente Unificado**: Dashboard √∫nico que suporta tanto o modo interno quanto o modo cliente
- **Vis√£o Geral Personalizada**: M√©tricas em tempo real sobre horas trabalhadas, clientes ativos e faturamento
- **Dashboard Interno**: Interface administrativa com abas para Recent Work, Invoices e Clients
- **Dashboard do Cliente**: Portal p√∫blico com visualiza√ß√£o profissional de faturas e estat√≠sticas
- **Gr√°ficos Interativos**: Visualiza√ß√£o de horas por semana, crescimento mensal e distribui√ß√£o por clientes
- **Atividades Recentes**: Timeline das √∫ltimas a√ß√µes realizadas no sistema
- **Top Clientes**: Ranking dos clientes por horas trabalhadas e n√∫mero de faturas
- **Filtragem Avan√ßada**: Sistema de busca, filtros por status e ordena√ß√£o em ambos os modos

### ‚è∞ Controle de Horas

- **Registro Intuitivo**: Adicionar horas de trabalho com data, descri√ß√£o e associa√ß√£o a clientes/projetos
- **Filtros Avan√ßados**: Busca por per√≠odo, cliente ou projeto espec√≠fico
- **Estat√≠sticas Autom√°ticas**: C√°lculo autom√°tico de totais, m√©dias e compara√ß√µes
- **Valida√ß√µes Inteligentes**: Preven√ß√£o de duplicatas e inconsist√™ncias

### üë• Gest√£o de Clientes e Projetos

- **Cadastro Completo de Clientes**: Nome, empresa, email, telefone e endere√ßos m√∫ltiplos
- **Interface de Gest√£o Otimizada**: Cards de clientes com barra de busca inteligente e bot√µes de a√ß√£o sempre vis√≠veis
- **Busca Avan√ßada**: Filtro por nome, email ou empresa em tempo real posicionada entre stats e lista de clientes
- **Navega√ß√£o e A√ß√µes Facilitadas**: Tr√™s bot√µes sempre vis√≠veis em cada card: View, Edit e Share
- **Compartilhamento Inteligente**: Sistema de compartilhamento do dashboard do cliente via WhatsApp, Email ou c√≥pia de link
- **Organiza√ß√£o por Projetos**: Estrutura√ß√£o hier√°rquica de trabalhos
- **Hist√≥rico Detalhado**: Acompanhamento completo de horas e faturas por cliente
- **Endere√ßos M√∫ltiplos**: Suporte a endere√ßos de cobran√ßa, entrega e escrit√≥rio
- **P√°gina Detalhada do Cliente**: Interface completa com estat√≠sticas, gr√°ficos e hist√≥rico de atividades

### üí∞ Sistema de Faturas (Invoices)

- **Gera√ß√£o Autom√°tica**: Cria√ß√£o de faturas baseadas nas horas trabalhadas
- **Upload de Arquivos**: Anexa√ß√£o de notas fiscais e documentos (PDF, DOC, IMG)
- **Status de Acompanhamento**: Controle de faturas pendentes, pagas e canceladas
- **Armazenamento Seguro**: Integra√ß√£o com AWS S3 ou storage local como fallback
- **Dashboard do Cliente**: Portal p√∫blico onde clientes visualizam suas faturas, horas trabalhadas e podem fazer download dos documentos
- **Filtros e Pesquisa Avan√ßada**: Componente reutiliz√°vel de busca e filtros com:
  - Busca por n√∫mero da fatura, descri√ß√£o ou nome do cliente
  - Filtros por status (Todos, Pagos, Pendentes, Cancelados)
  - Ordena√ß√£o por data, valor, status ou horas
  - Contador de resultados em tempo real
  - Interface consistente entre Dashboard e p√°gina de Invoices
- **M√©tricas Avan√ßadas**: Crescimento mensal, valor m√©dio por fatura, an√°lise de status e tend√™ncias

### üìß Notifica√ß√µes Inteligentes

- **Alertas de Horas**: Notifica√ß√£o autom√°tica quando atingir limite configurado
- **Notifica√ß√£o de Faturas**: Email autom√°tico ao cliente quando fatura for enviada
- **Sistema Anti-Spam**: Preven√ß√£o de notifica√ß√µes duplicadas
- **Log de Notifica√ß√µes**: Hist√≥rico completo de emails enviados

### ‚öôÔ∏è Configura√ß√µes Personaliz√°veis

- **Limite de Horas**: Configura√ß√£o do threshold para alertas autom√°ticos
- **Email de Notifica√ß√£o**: Personaliza√ß√£o do email para recebimento de alertas
- **Prefer√™ncias do Sistema**: Configura√ß√µes de interface e comportamento

### üìà Relat√≥rios e Exports

- **Relat√≥rios Detalhados**: An√°lise por per√≠odo, cliente ou projeto
- **M√©tricas de Performance**: Compara√ß√£o de per√≠odos e identifica√ß√£o de tend√™ncias
- **Dados Estruturados**: Informa√ß√µes organizadas para tomada de decis√£o

## üõ† Tecnologias Utilizadas

### Backend (NestJS)

- **Framework**: NestJS 10.x com TypeScript
- **ORM**: Prisma 6.x para modelagem e queries do banco
- **Banco de Dados**: PostgreSQL 15
- **Autentica√ß√£o**: JWT + Passport.js com suporte a Google OAuth
- **Valida√ß√£o**: Class-validator e Class-transformer
- **Upload de Arquivos**: Multer com suporte a AWS S3
- **Email**: Resend para envio de notifica√ß√µes
- **Cache**: Redis para sess√µes e cache
- **Documenta√ß√£o**: Swagger/OpenAPI autom√°tico

### Frontend (Next.js)

- **Framework**: Next.js 14 com App Router
- **UI Library**: React 18 com TypeScript
- **Estiliza√ß√£o**: TailwindCSS com Shadcn/ui components
- **Formul√°rios**: React Hook Form com Zod validation
- **State Management**: TanStack Query (React Query)
- **Gr√°ficos**: Recharts para visualiza√ß√µes
- **Temas**: Next-themes para modo escuro/claro
- **√çcones**: Lucide React
- **Data Handling**: Date-fns para manipula√ß√£o de datas

### DevOps e Infraestrutura

- **Monorepo**: Turborepo para gerenciamento
- **Package Manager**: PNPM para efici√™ncia
- **Containeriza√ß√£o**: Docker + Docker Compose
- **Banco de Dados**: PostgreSQL + Redis em containers
- **CI/CD**: GitHub Actions (configur√°vel)
- **Linting**: ESLint + Prettier
- **Testes**: Jest + Testing Library

### Integra√ß√µes Externas

- **AWS S3**: Armazenamento de arquivos de faturas
- **Google OAuth**: Autentica√ß√£o social
- **Resend**: Servi√ßo de email transacional
- **PostgreSQL**: Banco de dados principal
- **Redis**: Cache e gerenciamento de sess√£o

## üìö Bibliotecas e Depend√™ncias

### Backend Dependencies

#### Core Framework

- **@nestjs/core** `^10.0.0` - Framework principal do NestJS
- **@nestjs/common** `^10.0.0` - M√≥dulos comuns do NestJS
- **@nestjs/platform-express** `^10.0.0` - Plataforma Express para NestJS
- **@nestjs/config** `^3.1.1` - Gerenciamento de configura√ß√µes
- **@nestjs/mapped-types** `^2.1.0` - Utilit√°rios para mapeamento de tipos

#### Database & ORM

- **@prisma/client** `^6.9.0` - Cliente Prisma para TypeScript
- **prisma** `^6.9.0` - ORM e toolkit de banco de dados

#### Authentication & Security

- **@nestjs/jwt** `^10.2.0` - Implementa√ß√£o JWT para NestJS
- **@nestjs/passport** `^10.0.3` - Integra√ß√£o Passport.js com NestJS
- **passport** `^0.7.0` - Middleware de autentica√ß√£o
- **passport-jwt** `^4.0.1` - Estrat√©gia JWT para Passport
- **passport-local** `^1.0.0` - Estrat√©gia local para Passport
- **passport-google-oauth20** `^2.0.0` - Estrat√©gia Google OAuth2.0
- **bcrypt** `^6.0.0` - Biblioteca para hash de senhas

#### File Upload & Storage

- **@aws-sdk/client-s3** `^3.826.0` - SDK moderno da AWS para S3
- **aws-sdk** `^2.1692.0` - SDK cl√°ssico da AWS (fallback)
- **multer** `^2.0.1` - Middleware para upload de arquivos

#### Validation & Transformation

- **class-validator** `^0.14.2` - Valida√ß√£o baseada em decorators
- **class-transformer** `^0.5.1` - Transforma√ß√£o de objetos

#### Email & Communication

- **resend** `^4.5.2` - Servi√ßo de email transacional

#### Utils

- **uuid** `^11.1.0` - Gera√ß√£o de identificadores √∫nicos
- **reflect-metadata** `^0.1.13` - Suporte a metadados para decorators
- **rxjs** `^7.8.1` - Programa√ß√£o reativa

### Frontend Dependencies

#### Core Framework

- **next** `14.1.0` - Framework React para produ√ß√£o
- **react** `^18` - Biblioteca principal do React
- **react-dom** `^18` - DOM renderer para React

#### Authentication

- **next-auth** `^4.24.6` - Autentica√ß√£o para Next.js
- **@auth/core** `^0.34.2` - Core de autentica√ß√£o

#### State Management & Data Fetching

- **@tanstack/react-query** `^5.24.1` - Gerenciamento de estado ass√≠ncrono (antigo React Query)
- **axios** `^1.9.0` - Cliente HTTP

#### UI Components & Styling

- **@radix-ui/react-\*** `^1.x/^2.x` - Componentes primitivos acess√≠veis:
  - `react-alert-dialog` - Di√°logos de alerta
  - `react-avatar` - Componentes de avatar
  - `react-dialog` - Di√°logos modais
  - `react-dropdown-menu` - Menus dropdown
  - `react-label` - Labels acess√≠veis
  - `react-popover` - Componentes popover
  - `react-progress` - Barras de progresso
  - `react-select` - Seletores customizados
  - `react-separator` - Separadores visuais
  - `react-switch` - Componentes switch
  - `react-tabs` - Navega√ß√£o em abas
  - `react-toast` - Notifica√ß√µes toast
  - `react-tooltip` - Tooltips interativos
- **lucide-react** `^0.344.0` - Biblioteca de √≠cones moderna e extensiva
- **tailwindcss** `^3.4.0` - Framework CSS utilit√°rio
- **tailwind-merge** `^2.2.1` - Utilit√°rio para merge de classes Tailwind
- **tailwindcss-animate** `^1.0.7` - Anima√ß√µes para Tailwind
- **class-variance-authority** `^0.7.0` - Variantes de componentes
- **clsx** `^2.1.0` - Utilit√°rio para classes condicionais

#### Design System Enhancements

- **T√≠tulos com √çcones**: Todas as p√°ginas principais agora incluem √≠cones contextuais nos t√≠tulos
  - **Dashboard**: BarChart3 - representa an√°lise e m√©tricas
  - **Clients**: Users - representa gest√£o de clientes
  - **Projects**: Folder - representa organiza√ß√£o de projetos
  - **Invoices**: FileText - representa documentos e faturas
  - **Work Hours**: Clock - representa controle de tempo
  - **Analytics**: BarChart3 - representa an√°lise avan√ßada
  - **Settings**: Settings - representa configura√ß√µes
- **InfoCard Otimizado**: Componente redesenhado para evitar repeti√ß√£o visual
  - √çcone de "Info" como √≠cone principal (grande) na lateral esquerda
  - Remove a duplica√ß√£o de √≠cones entre PageHeader e InfoCard
  - Cores tem√°ticas adapt√°veis (info, success, warning, error)
  - Layout limpo e focado na informa√ß√£o
- **Padroniza√ß√£o de Layout**: Todas as p√°ginas agora utilizam o componente PageHeader consistentemente
  - Interface unificada com t√≠tulo, descri√ß√£o, √≠cone e a√ß√µes
  - PageContainer para layout responsivo e padronizado
  - Spacing e estrutura visual consistente em toda a aplica√ß√£o
  - Melhor acessibilidade e experi√™ncia do usu√°rio
  - Hierarquia visual clara: PageHeader (√≠cone da p√°gina) + InfoCard (√≠cone Info)

#### Forms & Validation

- **react-hook-form** `^7.50.1` - Biblioteca de formul√°rios perform√°tica
- **@hookform/resolvers** `^3.3.4` - Resolvers para valida√ß√£o
- **zod** `^3.22.4` - Schema de valida√ß√£o TypeScript-first

#### Date & Time

- **date-fns** `^3.3.1` - Biblioteca moderna para manipula√ß√£o de datas
- **react-datepicker** `^8.4.0` - Seletor de datas
- **react-day-picker** `^9.7.0` - Calend√°rio e seletor de dias

#### Data Visualization

- **recharts** `^2.15.3` - Biblioteca de gr√°ficos para React

#### Utilities & Enhancements

- **next-themes** `^0.2.1` - Gerenciamento de temas (dark/light)
- **cmdk** `^1.1.1` - Command palette primitives
- **js-cookie** `^3.0.5` - Manipula√ß√£o de cookies
- **react-input-mask** `^2.0.4` - M√°scaras para inputs
- **sonner** `^1.4.0` - Toast notifications elegantes

### Development Dependencies

#### Backend DevDeps

- **@nestjs/cli** `^10.0.0` - CLI do NestJS
- **@nestjs/testing** `^10.0.0` - Utilit√°rios de teste
- **typescript** `^5.1.3` - Compilador TypeScript
- **ts-node** `^10.9.1` - Execu√ß√£o TypeScript em Node.js
- **jest** `^29.5.0` - Framework de testes
- **ts-jest** `^29.1.0` - Transformador Jest para TypeScript
- **eslint** `^8.42.0` - Linter JavaScript/TypeScript
- **prettier** `^3.0.0` - Formatador de c√≥digo

#### Frontend DevDeps

- **@types/\*** - Defini√ß√µes de tipos TypeScript
- **eslint-config-next** `14.1.0` - Configura√ß√£o ESLint para Next.js
- **autoprefixer** `^10.4.21` - PostCSS plugin para prefixos CSS
- **postcss** `^8.5.4` - Ferramenta de transforma√ß√£o CSS

#### Monorepo Management

- **turbo** `^1.12.4` - Build system otimizado para monorepos
- **@nestjs/cli** `^11.0.7` - CLI global do NestJS

### Principais Caracter√≠sticas das Bibliotecas

#### üöÄ Performance

- **Next.js 14**: App Router, Server Components, streaming SSR
- **TanStack Query (React Query)**: Cache inteligente, background updates, otimiza√ß√£o de requests
- **Turbo**: Build paralelo e cache inteligente para monorepo

#### üé® UI/UX

- **Radix UI**: Componentes headless, acess√≠veis e customiz√°veis
- **Tailwind CSS**: Styling utilit√°rio com design consistente
- **Recharts**: Gr√°ficos responsivos e interativos

#### üîí Seguran√ßa

- **NextAuth.js**: Autentica√ß√£o segura com m√∫ltiplos providers
- **Zod**: Valida√ß√£o runtime com type safety
- **bcrypt**: Hash seguro de senhas

#### üìä Dados

- **Prisma**: Type-safe database access com migrations
- **Class-validator**: Valida√ß√£o robusta no backend
- **Date-fns**: Manipula√ß√£o confi√°vel de datas

## üèó Arquitetura do Sistema

### Estrutura do Monorepo

```
its-done/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ backend/          # API NestJS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/         # Autentica√ß√£o e autoriza√ß√£o
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/        # Gest√£o de usu√°rios
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ work-hours/   # Controle de horas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients/      # Gest√£o de clientes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects/     # Gest√£o de projetos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invoices/     # Sistema de faturas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings/     # Configura√ß√µes do usu√°rio
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/    # M√©tricas e analytics
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports/      # Relat√≥rios
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications/ # Sistema de notifica√ß√µes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ addresses/    # Endere√ßos de clientes
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prisma/       # Configura√ß√£o do banco
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ schema.prisma # Modelo de dados
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ migrations/   # Migra√ß√µes do banco
‚îÇ   ‚îî‚îÄ‚îÄ frontend/         # App Next.js
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ app/          # Pages (App Router)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ components/   # Componentes reutiliz√°veis
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/    # Dashboard unificado
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/           # Componentes UI base
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/       # Componentes de layout
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invoices/     # Componentes de faturas
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invoice-search-filters.tsx  # Filtros reutiliz√°veis
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create-invoice-form.tsx     # Formul√°rio de cria√ß√£o
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ edit-invoice-form.tsx       # Formul√°rio de edi√ß√£o
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                         # Outros componentes
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients/      # Componentes de clientes
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...           # Outros componentes
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ hooks/        # Custom hooks
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ services/     # API services
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ types/        # Tipos TypeScript
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ lib/          # Utilit√°rios
‚îÇ       ‚îî‚îÄ‚îÄ public/       # Assets est√°ticos
‚îú‚îÄ‚îÄ packages/             # Pacotes compartilhados
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # Biblioteca de componentes
‚îÇ   ‚îú‚îÄ‚îÄ eslint/          # Configura√ß√µes ESLint
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig/        # Configura√ß√µes TypeScript
‚îú‚îÄ‚îÄ docker/              # Configura√ß√µes Docker
‚îú‚îÄ‚îÄ scripts/             # Scripts de automa√ß√£o
‚îî‚îÄ‚îÄ docs/               # Documenta√ß√£o
```

### Modelo de Dados (Prisma Schema)

#### Entidades Principais:

- **User**: Usu√°rios do sistema com autentica√ß√£o JWT/OAuth
- **WorkHour**: Registros de horas trabalhadas
- **Client**: Clientes/contratantes
- **Project**: Projetos associados aos clientes
- **Invoice**: Faturas geradas
- **Settings**: Configura√ß√µes personalizadas do usu√°rio
- **Address**: Endere√ßos m√∫ltiplos dos clientes
- **NotificationLog**: Log de notifica√ß√µes enviadas

#### Relacionamentos:

- User ‚Üí WorkHours (1:N)
- User ‚Üí Clients (1:N)
- User ‚Üí Projects (1:N)
- Client ‚Üí WorkHours (1:N)
- Client ‚Üí Invoices (1:N)
- Client ‚Üí Addresses (1:N)
- Project ‚Üí WorkHours (1:N)
- Invoice ‚Üí InvoiceWorkHours (1:N)

## üìã Regras de Neg√≥cio

### Sistema de Horas

1. **Registro de Horas**: Cada registro deve ter data, descri√ß√£o, horas trabalhadas e estar associado a um cliente
2. **Valida√ß√£o de Dados**: Horas n√£o podem ser negativas, datas n√£o podem ser futuras
3. **Associa√ß√£o a Projetos**: Horas podem opcionalmente ser associadas a projetos espec√≠ficos
4. **C√°lculos Autom√°ticos**: Sistema calcula automaticamente totais por per√≠odo, cliente e projeto

### Sistema de Alertas

1. **Threshold Configur√°vel**: Usu√°rio define limite de horas para receber alertas
2. **Preven√ß√£o de Spam**: Sistema evita envio de m√∫ltiplas notifica√ß√µes para o mesmo threshold
3. **Email Personalizado**: Possibilidade de configurar email diferente para recebimento de alertas
4. **Log de Notifica√ß√µes**: Todas as notifica√ß√µes s√£o registradas no banco para auditoria

### Sistema de Faturas

1. **Associa√ß√£o √önica**: Cada hora trabalhada pode estar associada a apenas uma fatura
2. **Valida√ß√£o de Cliente**: Todas as horas de uma fatura devem pertencer ao mesmo cliente
3. **Status de Controle**: Faturas podem estar Pendentes, Pagas ou Canceladas
4. **Upload Seguro**: Arquivos s√£o validados por tipo e tamanho antes do upload
5. **Notifica√ß√£o Autom√°tica**: Cliente recebe email automaticamente quando fatura √© criada

### Sistema de Clientes

1. **Dados Obrigat√≥rios**: Nome da empresa e email s√£o obrigat√≥rios
2. **Endere√ßos M√∫ltiplos**: Suporte a diferentes tipos de endere√ßo (cobran√ßa, entrega, escrit√≥rio)
3. **Endere√ßo Prim√°rio**: Cada cliente deve ter um endere√ßo marcado como prim√°rio
4. **Relacionamentos**: Clientes podem ter m√∫ltiplos projetos e faturas

### Seguran√ßa e Autoriza√ß√£o

1. **Isolamento de Dados**: Usu√°rios s√≥ acessam seus pr√≥prios dados
2. **Autentica√ß√£o JWT**: Tokens com expira√ß√£o configur√°vel
3. **Valida√ß√£o de Input**: Todas as entradas s√£o validadas no backend
4. **Upload Seguro**: Apenas tipos de arquivo permitidos s√£o aceitos

## üß™ Testes

### Frontend (Next.js + Vitest)

O frontend usa Vitest com Testing Library para testes:

```bash
cd apps/frontend
pnpm test          # Executar testes em modo watch
pnpm test:run      # Executar todos os testes uma vez
pnpm test:ui       # Interface visual para testes
```

#### Configura√ß√£o de Testes Frontend

- **Framework**: Vitest com JSDOM
- **Testing Library**: React Testing Library + Jest DOM
- **Setup**: Arquivo de setup em `src/test/setup.ts`
- **Configura√ß√£o**: `vitest.config.ts`

#### Estrutura de Testes Frontend

```
apps/frontend/src/
‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îú‚îÄ‚îÄ setup.ts           # Configura√ß√£o global dos testes
‚îÇ   ‚îî‚îÄ‚îÄ vitest.d.ts       # Tipos globais do Vitest
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ invoices/
‚îÇ       ‚îî‚îÄ‚îÄ __tests__/
‚îÇ           ‚îî‚îÄ‚îÄ invoice-search-filters.test.tsx
```

#### Exemplo de Testes

Os testes cobrem:

- **Renderiza√ß√£o de Componentes**: Verifica√ß√£o se elementos aparecem corretamente
- **Intera√ß√µes do Usu√°rio**: Cliques, digita√ß√£o, mudan√ßas de estado
- **L√≥gica de Hooks**: Teste do hook `useInvoiceFilters`
- **Filtros e Busca**: Valida√ß√£o de filtros por status, busca e ordena√ß√£o

### Backend (NestJS)

Os testes do backend usam Jest como framework de testes:

```bash
cd apps/backend
pnpm test          # Executar todos os testes
pnpm test:watch    # Executar testes em modo watch
pnpm test:cov      # Executar testes com cobertura
```

#### Estrutura de Testes Backend

- **Testes Unit√°rios**: Para servi√ßos e controladores
- **Testes de Integra√ß√£o**: Para endpoints da API
- **Mocks**: Para depend√™ncias externas (banco, email, etc.)

## üöÄ Configura√ß√£o e Instala√ß√£o

### Pr√©-requisitos

- Node.js 18+
- Docker e Docker Compose
- PNPM (recomendado) ou NPM
- Git

### 1. Clone o Reposit√≥rio

```bash
git clone https://github.com/seu-usuario/its-done.git
cd its-done
```

### 2. Instala√ß√£o Autom√°tica

Execute o script de setup que configura todo o ambiente:

```bash
chmod +x setup.sh
./setup.sh
```

### 3. Instala√ß√£o Manual

#### Instalar Depend√™ncias

```bash
pnpm install
```

#### Configurar Banco de Dados

```bash
# Iniciar banco de dados com Docker
docker-compose up -d

# Gerar cliente Prisma e aplicar migra√ß√µes
cd apps/backend
pnpm prisma generate
pnpm prisma db push
```

#### Configurar Vari√°veis de Ambiente

**Backend (.env):**

```env
# Database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/its_done"

# JWT
JWT_SECRET="sua_chave_secreta_jwt_super_segura"

# Google OAuth (opcional)
GOOGLE_CLIENT_ID="seu_google_client_id"
GOOGLE_CLIENT_SECRET="seu_google_client_secret"

# Email - Resend
RESEND_API_KEY="re_sua_chave_resend"
FROM_EMAIL="noreply@seu-dominio.com"

# AWS S3 (opcional - usa storage local se n√£o configurado)
AWS_ACCESS_KEY_ID="sua_aws_access_key"
AWS_SECRET_ACCESS_KEY="sua_aws_secret_key"
AWS_S3_BUCKET="nome-do-seu-bucket"
AWS_REGION="us-east-1"
```

**Frontend (.env.local):**

```env
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="sua_chave_secreta_nextauth"
API_URL="http://localhost:3002"
```

### 4. Executar o Projeto

#### Modo Desenvolvimento

##### üöÄ **Op√ß√£o Recomendada: Script Inteligente**

O projeto conta com um script inteligente que gerencia automaticamente o ambiente de desenvolvimento:

```bash
# Iniciar ambiente completo (RECOMENDADO)
pnpm dev
```

**Caracter√≠sticas do script:**

- ‚úÖ **Reinicializa√ß√£o autom√°tica**: Para e reinicia todos os servi√ßos existentes
- üìù **Logs integrados**: Visualiza logs do backend e frontend simultaneamente
- üé® **Logs coloridos**: Backend em roxo, frontend em ciano
- üîÑ **Detec√ß√£o de porta**: Verifica se os servi√ßos iniciaram corretamente
- üõë **Cleanup autom√°tico**: Ctrl+C para todas as opera√ß√µes de limpeza

**Exemplo de sa√≠da:**

```
üöÄ Starting development environment...
üõë Stopping any existing services...
‚úÖ All existing services stopped
üîÑ Starting both frontend and backend...
‚úÖ Backend started successfully on port 3002
‚úÖ Frontend started successfully on port 3000

üéâ Development environment ready!
Frontend: http://localhost:3000
Backend: http://localhost:3002

üìù Showing logs (Press Ctrl+C to stop all services)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
[BACKEND] üöÄ Starting Nest application...
[FRONTEND] ‚ñ≤ Next.js 14.1.0
[BACKEND] ‚úÖ Mapped {/api/users, GET}
[FRONTEND] - Local: http://localhost:3000
```

##### üìç **Execu√ß√£o de Qualquer Diret√≥rio**

O script tamb√©m est√° dispon√≠vel em todos os package.json:

```bash
# Da raiz do projeto
pnpm dev

# Do diret√≥rio frontend
cd apps/frontend && pnpm start:dev

# Do diret√≥rio backend
cd apps/backend && pnpm start:dev
```

##### üîß **Op√ß√µes Alternativas**

Para desenvolvimento individual dos servi√ßos:

```bash
# Apenas backend (porta 3002)
cd apps/backend && pnpm dev

# Apenas frontend (porta 3000)
cd apps/frontend && pnpm dev
```

#### Modo Produ√ß√£o

```bash
pnpm build
pnpm start
```

#### Acessos

- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:3002
- **Banco de dados**: localhost:5432
- **Prisma Studio**: `pnpm studio` (porta 5555)

## üìñ Como Usar o Sistema

### 1. Primeiro Acesso

1. Acesse http://localhost:3000
2. Registre uma nova conta ou fa√ßa login com Google
3. Configure suas prefer√™ncias iniciais

### 2. Configura√ß√£o Inicial

1. V√° para **Configura√ß√µes** (`/settings`)
2. Defina seu limite de horas para alertas (padr√£o: 160h)
3. Configure seu email para notifica√ß√µes
4. Salve as configura√ß√µes

### 3. Gerenciar Clientes

#### Cadastrar Novos Clientes

1. Acesse **Clientes** (`/clients`)
2. Clique em "Novo Cliente"
3. Preencha: nome, empresa, email, telefone
4. Adicione endere√ßos se necess√°rio
5. Salve o cliente

#### Navegar e Buscar Clientes

1. Use a **barra de busca** (posicionada entre as estat√≠sticas e os cards de clientes)
2. Pesquise por nome, email ou empresa em tempo real
3. Visualize estat√≠sticas detalhadas de cada cliente nos cards:
   - **Hours**: Total de horas trabalhadas
   - **Paid**: Valor total de faturas pagas
   - **Pending**: Valor total de faturas pendentes

#### A√ß√µes R√°pidas nos Cards

- **View**: Clique no bot√£o "View" para acessar a p√°gina detalhada com gr√°ficos, estat√≠sticas e hist√≥rico
- **Edit**: Clique no bot√£o "Edit" para editar informa√ß√µes b√°sicas e endere√ßos
- **Share**: Clique no bot√£o "Share" para acessar op√ß√µes de compartilhamento:
  - **Copy Link**: Copia o link do dashboard do cliente para a √°rea de transfer√™ncia
  - **Share via WhatsApp**: Abre o WhatsApp com mensagem pr√©-formatada contendo o link
  - **Send via Email**: Abre o cliente de email padr√£o com assunto e corpo pr√©-preenchidos

### 4. Criar Projetos (Opcional)

1. Acesse **Projetos** (`/projects`)
2. Clique em "Novo Projeto"
3. Associe o projeto a um cliente existente
4. Adicione nome e descri√ß√£o
5. Salve o projeto

### 5. Registrar Horas de Trabalho

1. V√° para **Controle de Horas** (`/work-hours`)
2. Clique em "Adicionar Horas"
3. Selecione a data de trabalho
4. Escolha o cliente (e projeto se applicable)
5. Insira as horas trabalhadas
6. Adicione uma descri√ß√£o detalhada
7. Salve o registro

### 6. Monitorar no Dashboard

1. Acesse o **Dashboard** (`/dashboard`)
2. Veja suas m√©tricas em tempo real:
   - Total de horas no m√™s
   - Crescimento percentual
   - Clientes ativos
   - Atividades recentes
3. Analise os gr√°ficos de performance

### 7. Gerar Faturas

1. Acesse **Faturas** (`/invoices`)
2. Clique em "Nova Fatura"
3. Selecione o cliente
4. Escolha as horas a serem faturadas
5. Defina o valor (se aplic√°vel)
6. Fa√ßa upload da nota fiscal (PDF/IMG)
7. O sistema enviar√° email automaticamente ao cliente

### 7. Dashboard do Cliente (Portal P√∫blico)

O sistema oferece um dashboard p√∫blico onde seus clientes podem:

1. **Acessar via URL**: `/client-dashboard/[clientId]`
2. **Visualizar Estat√≠sticas**:
   - Total de faturas e horas trabalhadas
   - Valores pagos e pendentes
   - Crescimento mensal e m√©tricas de performance
3. **Gerenciar Faturas**:
   - Visualizar todas as faturas em cards interativos
   - Filtrar por status (Pago, Pendente, Atrasado)
   - Pesquisar por n√∫mero ou descri√ß√£o
   - Ordenar por data, valor, status ou horas
4. **Download de Documentos**:
   - Visualizar faturas em nova aba
   - Download direto dos arquivos PDF
   - Detalhes completos de horas trabalhadas por fatura
5. **Interface Profissional**:
   - Design moderno e responsivo
   - Tema claro/escuro
   - Experi√™ncia otimizada para cliente

### 9. Acompanhar Relat√≥rios

1. V√° para **Analytics** (`/analytics`)
2. Filtre por per√≠odo, cliente ou projeto
3. Visualize estat√≠sticas detalhadas
4. Exporte dados se necess√°rio

## üë®‚Äçüíª Desenvolvimento

### Estrutura de Comandos

#### üöÄ Comandos de Desenvolvimento

```bash
# Comando principal (RECOMENDADO)
pnpm dev                   # Script inteligente: para + inicia + logs coloridos

# Comandos alternativos
cd apps/backend && pnpm dev     # Apenas backend (porta 3002)
cd apps/frontend && pnpm dev    # Apenas frontend (porta 3000)

# Execu√ß√£o em qualquer diret√≥rio
pnpm start:dev            # Da pasta frontend ou backend
```

#### üèóÔ∏è Comandos de Build

```bash
pnpm build                 # Build de produ√ß√£o completo
pnpm build:backend         # Build apenas backend
pnpm build:frontend        # Build apenas frontend
```

#### üóÑÔ∏è Comandos de Banco de Dados

```bash
pnpm studio               # Prisma Studio (porta 5555)
cd apps/backend && pnpm prisma generate    # Gerar cliente Prisma
cd apps/backend && pnpm prisma db push     # Aplicar schema
cd apps/backend && pnpm prisma migrate dev # Nova migra√ß√£o
```

#### ‚úÖ Comandos de Qualidade

```bash
pnpm lint                 # Executar linting em todo o projeto
pnpm format              # Formatar c√≥digo com Prettier
pnpm test                # Executar testes
```

### Desenvolvimento Backend

1. **Estrutura Modular**: Cada feature tem seu pr√≥prio m√≥dulo
2. **DTOs Validados**: Uso de class-validator para valida√ß√£o
3. **Decorators Customizados**: Simplifica√ß√£o de c√≥digo comum
4. **Guards de Autentica√ß√£o**: Prote√ß√£o autom√°tica de rotas
5. **Swagger Autom√°tico**: Documenta√ß√£o gerada automaticamente

### Desenvolvimento Frontend

1. **Componentes Reutiliz√°veis**: Biblioteca de componentes pr√≥pria
2. **Hooks Customizados**: L√≥gica compartilhada encapsulada
3. **Type Safety**: TypeScript em todo o frontend
4. **Estado Global**: React Query para cache e sincroniza√ß√£o
5. **Formul√°rios Validados**: Zod + React Hook Form

### Padr√µes de C√≥digo

- **Naming Convention**: camelCase para vari√°veis, PascalCase para componentes
- **Estrutura de Arquivos**: Agrupamento por feature, n√£o por tipo
- **Imports**: Paths absolutos usando aliases
- **Error Handling**: Tratamento consistente de erros
- **Logging**: Logs estruturados para debugging

## üß™ Testes

### Backend

```bash
cd apps/backend

# Testes unit√°rios
pnpm test

# Testes com coverage
pnpm test:cov

# Testes em modo watch
pnpm test:watch

# Testes end-to-end
pnpm test:e2e
```

### Frontend

```bash
cd apps/frontend

# Testes de componentes
pnpm test

# Testes com coverage
pnpm test:coverage

# Testes em modo watch
pnpm test:watch
```

### Estrutura de Testes

- **Unit Tests**: L√≥gica de neg√≥cio e utilit√°rios
- **Integration Tests**: APIs e banco de dados
- **Component Tests**: Componentes React isolados
- **E2E Tests**: Fluxos completos do usu√°rio

## üö¢ Deploy

### Usando Docker (Recomendado)

```bash
# Build das imagens
docker-compose -f docker-compose.prod.yml build

# Deploy em produ√ß√£o
docker-compose -f docker-compose.prod.yml up -d
```

### Deploy Manual

#### Backend

```bash
cd apps/backend
pnpm build
pnpm start:prod
```

#### Frontend

```bash
cd apps/frontend
pnpm build
pnpm start
```

### Vari√°veis de Ambiente para Produ√ß√£o

- Configure todas as vari√°veis de ambiente necess√°rias
- Use secrets seguros para JWT_SECRET e outras chaves
- Configure SSL/TLS para HTTPS
- Configure backup autom√°tico do banco de dados

## üéØ Pr√≥ximos Passos

### Funcionalidades Planejadas

#### Curto Prazo (1-2 meses)

- [x] **Dashboard P√∫blico para Clientes**: Portal onde clientes podem visualizar suas horas e faturas ‚úÖ
- [x] **Componente de Dashboard Unificado**: Sistema unificado que combina dashboard interno e do cliente ‚úÖ
- [ ] **Notifica√ß√µes Push**: Notifica√ß√µes em tempo real no browser
- [ ] **Export de Relat√≥rios**: PDF e Excel com dados formatados
- [ ] **API REST P√∫blica**: Endpoints para integra√ß√µes externas
- [ ] **Modo Offline**: Funcionamento b√°sico sem conex√£o
- [ ] **Multi-idiomas**: Suporte a portugu√™s e ingl√™s

#### M√©dio Prazo (3-6 meses)

- [ ] **Mobile App**: Aplicativo React Native para iOS e Android
- [ ] **Time Tracking em Tempo Real**: Cron√¥metro integrado
- [ ] **Integra√ß√£o com Calend√°rios**: Google Calendar, Outlook
- [ ] **Backup Autom√°tico**: Backup incremental para nuvem
- [ ] **Colabora√ß√£o em Equipe**: M√∫ltiplos usu√°rios por workspace
- [ ] **Sistema de Aprova√ß√£o**: Workflow para aprova√ß√£o de horas

#### Longo Prazo (6+ meses)

- [ ] **Intelig√™ncia Artificial**: Sugest√µes autom√°ticas e insights
- [ ] **Integra√ß√µes Cont√°beis**: QuickBooks, Xero, Conta Azul
- [ ] **Faturamento Autom√°tico**: Gera√ß√£o autom√°tica baseada em regras
- [ ] **Dashboard Executivo**: M√©tricas avan√ßadas para gest√£o
- [ ] **Multi-tenancy**: Suporte a m√∫ltiplas empresas
- [ ] **Compliance**: LGPD, GDPR, SOX

### Melhorias T√©cnicas

#### Performance

- [ ] **Cache Redis**: Implementa√ß√£o de cache distribu√≠do
- [ ] **CDN**: Content Delivery Network para assets
- [ ] **Database Indexing**: Otimiza√ß√£o de queries
- [ ] **Lazy Loading**: Carregamento sob demanda
- [ ] **Bundle Optimization**: Redu√ß√£o do tamanho dos bundles

#### Seguran√ßa

- [ ] **2FA**: Autentica√ß√£o de dois fatores
- [ ] **Rate Limiting**: Prote√ß√£o contra ataques
- [ ] **Security Headers**: Headers de seguran√ßa HTTP
- [ ] **Encryption**: Criptografia de dados sens√≠veis
- [ ] **Audit Logs**: Log detalhado de a√ß√µes

#### DevOps

- [ ] **CI/CD Pipeline**: Automa√ß√£o completa de deploy
- [ ] **Monitoring**: Monitoramento de aplica√ß√£o e infraestrutura
- [ ] **Health Checks**: Verifica√ß√µes autom√°ticas de sa√∫de
- [ ] **Load Balancing**: Balanceamento de carga
- [ ] **Auto Scaling**: Escalonamento autom√°tico

### Arquitetura e Escalabilidade

- [ ] **Microservices**: Quebra em servi√ßos menores se necess√°rio
- [ ] **Event Sourcing**: Implementa√ß√£o para auditoria completa
- [ ] **CQRS**: Separa√ß√£o de comando e consulta
- [ ] **Message Queue**: Processamento ass√≠ncrono
- [ ] **Kubernetes**: Orquestra√ß√£o de containers

## ü§ù Contribui√ß√£o

### Como Contribuir

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### Padr√µes de Contribui√ß√£o

- Siga os padr√µes de c√≥digo estabelecidos
- Escreva testes para novas funcionalidades
- Atualize a documenta√ß√£o quando necess√°rio
- Use commits sem√¢nticos (feat, fix, docs, etc.)

### Reportar Bugs

Use o sistema de Issues do GitHub para reportar bugs, incluindo:

- Descri√ß√£o detalhada do problema
- Passos para reproduzir
- Screenshots se aplic√°vel
- Informa√ß√µes do ambiente (OS, Browser, etc.)

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üìû Suporte

Para suporte t√©cnico ou d√∫vidas:

- Abra uma Issue no GitHub
- Consulte a documenta√ß√£o t√©cnica
- Entre em contato com a equipe de desenvolvimento

---

**Its Done** - Transformando controle de horas em produtividade profissional. üöÄ
